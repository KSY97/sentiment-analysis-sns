# SNS 에서 글과 댓글들의 감정분석
제목은 SNS 에서 글과 댓글들의 감정분석 이지만
1. 서로 다른 언어의 서버끼리 통신하는 방법
2. 통신과정에서 필요한 최적화, 보안
3. 무거운 연산과정에서 필요한 최적화 방법
들을 목적으로 둔 프로젝트 이기 때문에 sns 기능 보다는 서버간 통신 방법에 중점을 두고 개발할 예정

## 프로젝트 기능 및 설계

- 회원 정보
  - 기본 회원 정보 조회
  - 회원 정보 수정 기능
  - 해당 회원이 작성한 글과 댓글들의 감정(긍정/부정)평균 점수
  - 추가 기능 : 감정 점수는 공개 / 비공개 선택 가능
- 글쓰기
  - 회원 가입이 완료된 회원만 글 쓰기 가능
  - 글 작성이 완료되면 flask에 데이터와 함께 감정 분석 요청 보내기
  - 추가 기능 : 조회수와 추천 혹은 좋아요 기능 추가
  - 추가 기능 : 작성 글에 Amazon S3를 이용해 사진과 영상 업로드 가능
- 댓글
  - 회원 가입이 완료된 회원만 댓글 쓰기 가능
  - 추가 기능 : 대댓글 기능 추가
- 감정 분석
  - flask에 분석 요청과 데이터가 들어오면 간단한 데이터 전처리 후 긍정 부정 여부를 퍼센트 혹은 0과 1상태로 나타내어 spring boot 서버로 결과를 보내준다.
  - springboot에서 결과를 받으면 해당 게시글 혹은 댓글에 결과(분석한 감정)를 나타내고 회원 정보에 감정 점수를 갱신한다.
<br/><br/><br/><br/>
- 일반적인 회원 기능과 SNS 기능은 spring boot webflux에서 개발
- 감정 분석은 공개된 감정분석 api를 이용해 flask 서버에서 개발
- springboot에서 감정분석 요청이 들어오면 flask에서 감정 분석후 결과를 spring boot 서버로 다시 보내주고 db에 등록하는 과정을 거칠 예정

## 왜 webflux인가?
동기 방식 서버가 아닌 비동기 방식의 서버인 webflux를 선택한 이유는 다음과 같다.
우선 이 프로젝트의 기본 시나리오는 SNS에서의 감정 분석이다. 이는 많은 사용자들이 동시에 요청하는 일이 많다는 것이고 이는 서버에 큰 부하가 생길 수 있다는 말이다.
게다가 flask 서버에서 처리할 데이터는 기본적으로 ai 모델을 학습 시켜 결과물을 뽑아내는 프로세스를 가지고 있다. 여기서 동기 방식 서버를 채택하게 되면
무거운 연산과정을 하는 동안에 request를 보낸 spring boot의 스레드는 blocking 되고 동시에 서버에 많은 부하가 발생할 시 Thread pool hell이 발생할 수 있다.
따라서 이번 프로젝트 에서는 webflux를 시도해보게 되었다.
<br/>

그 외 non-blocking을 위해 사용하는 것들
- R2DBC
- WebClient
- 추가예정...

## 개발 우선순위 및 진행 상황

##### 1순위 : flask 서버 구축과 감정 분석 모델 학습 또는 api를 사용해 감정 분석 기능과 spring boot와의 통신 기능 완성
  - 기본적인 flask 서버 구축 (완료)
  - 기본적인 spring boot webflux 서버 구축 (완료)
  - 감정 분석 모델 만들기(완료)
  - 감정 분석 api 만들기(완료)
  - spring boot 서버와 flask 간의 데이터 통신 테스트 (완료)

##### 2순위 : 일련의 통신 과정에서 필요한 보안 혹은 최적화 적용
  - flaks와 spring boot 서버 통신 시 필요한 보안 작업 (완료)
  - flask 서버를 비동기 서버로 만들기(진행중...)

##### 3순위 : 기본적인 sns 기능 구현

##### 4순위 : sns 추가 기능 구현
